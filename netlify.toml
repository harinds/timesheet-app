[build]
  # Build command for the React frontend
  command = "cd client && npm install && npm run build"
  # Directory to publish (React build output)
  publish = "client/dist"
  # Netlify Functions directory
  functions = "netlify/functions"

# Redirect API requests to Netlify Functions
[[redirects]]
  from = "/api/entries/*"
  to = "/.netlify/functions/entries"
  status = 200

[[redirects]]
  from = "/api/entries"
  to = "/.netlify/functions/entries"
  status = 200

[[redirects]]
  from = "/api/projects"
  to = "/.netlify/functions/projects"
  status = 200

[[redirects]]
  from = "/api/summary"
  to = "/.netlify/functions/summary"
  status = 200

# SPA fallback - redirect all other requests to index.html
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Environment variables (you'll set these in Netlify UI)
# SUPABASE_URL
# SUPABASE_ANON_KEY
